<div class="panel panel-primary">

    <!--<div class="border">
      <button class="btn btn-md btn-outline-primary">
        <i class="fa fa-user"></i>Nouveau client</button>
    </div>--->

  <div class=" pn-marge">

    <table *ngIf="clients" class="table table-bordered table-sm row-border hover" id="datatableexample" >
      <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Nom</th>
        <th scope="col">Prenom</th>
        <th scope="col">Email</th>
        <th scope="col">login</th>
        <th scope="col">Telephone</th>
        <th scope="col">Agence</th>
        <th scope="col">Action</th>
      </tr>
      </thead>

      <tbody>
         <tr *ngFor="let p of clients">
           <td>{{p.id}}</td>
           <td>{{p.nom}}</td>
           <td>{{p.prenom}}</td>
           <td>{{p.email}}</td>
           <td>{{p.tele}}</td>
           <td>{{p.login}}</td>
           <td>{{p.agence.nom}}</td>
           <td>
             <button class="btn1 btn-sm btn btn-info" data-toggle="modal" data-target="#myModal" (click)="open(p)">
               <i class="fa fa-plus"></i></button>

             <button class="btn1 btn-sm btn-danger" (click)="OnDelete(p)">
               <i class="fa fa-remove"></i></button>
           </td>
         </tr>
      </tbody>

    </table>
  </div>
</div>

<div class="container">
    <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Creer un compte</h4>
        </div>
        <div class="modal-body">
          <form #f="ngForm" (ngSubmit)="OnSaveCompte(f.value)">
            <div class="form-group">
              <label for="id_client" class="col-form-label">identifiant du client:</label>
              <input type="text" class="form-control" id="id_client" name="id_client" readonly [(ngModel)]="id_de_client">
            </div>
            <div class="form-group">
              <label for="creation" class="col-form-label">Date de creation:</label>
              <input type="date" class="form-control"  name="creation" ngModel>
            </div>

            <div class="form-group">
              <label for="solde" class="col-form-label">Solde initial:</label>
              <input type="text" class="form-control"  name="solde"  id="solde" [(ngModel)]="solde">
            </div>

            <div class="form-group">
              <label >Type de compte:</label>
              <select class="form-control" name="type"  required ngModel>
                <option selected disabled>Choix de l'agent...</option>
                <optgroup label="Type de compte">
                  <option value="Courant">Courant</option>
                  <option value="Epargne">Epargne</option>
                </optgroup>
              </select>
            </div>

            <div class="form-group">
              <label >Agent</label>
              <select class="form-control" name="id_agent"  required ngModel>
                <optgroup *ngFor="let p of agent">
                  <option value="{{p.id}}">{{p.nom}}</option>
                </optgroup>
              </select>
            </div>

            <div class="form-group">
              <button type="submit" class="btn btn-default" >Valider</button>
            </div>

          </form>
        </div>

        <div class="modal-footer">
        </div>
      </div>

    </div>
  </div>

</div>



