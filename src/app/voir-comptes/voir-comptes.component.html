<div class="panel panel-info  pn-marge">
  <div class="panel-heading"> Listes des comptes </div>
  <div class="panel-body">


  </div>

  <div class=" pn-marge">
    <table *ngIf="clients" class="table table-bordered table-sm row-border hover" id="datatableexample" >
      <thead>
      <tr>
        <th scope="col">Virement</th>
        <th scope="col">RIB</th>
        <th scope="col">Date</th>
        <th scope="col">Etat</th>
        <th scope="col">Type</th>
        <th scope="col">Agent</th>
        <th scope="col">Client</th>
        <th scope="col">Solde</th>
        <th scope="col">Bloquer</th>
      </tr>
      </thead>

      <tbody>
      <tr *ngFor="let p of clients">
        <td> <button class="btn1 btn-sm btn btn-info" data-toggle="modal" data-target="#myModal" (click)="open(p)">
          <i class="fa fa-plus"></i></button></td>
        <td>{{p.id}}</td>
        <td>{{p.creation}}</td>
        <td>{{p.etat}}</td>
        <td>{{p.type}}</td>
        <td>{{p.agent.nom}}</td>
        <td>{{p.client.nom}}</td>
        <td>{{p.solde}} DHS</td>
        <td><button class="btn1 btn-sm btn-danger" (click)="OnBlock(p)">
          <i class="fa fa-edit"></i></button>
        </td>
      </tr>
      </tbody>

    </table>

  </div>

</div>


<div class="container">
  <!-- Modal -->
  <div class="modal fade" id="myModal" role="dialog">
    <div class="modal-dialog">
      <!-- Modal content-->
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h4 class="modal-title">Effectuer un virement {{name}}</h4>
        </div>
        <div class="modal-body">
          <form #f="ngForm" (ngSubmit)="OnVirement(f.value)">
            <div class="form-group">
              <label for="rib" class="col-form-label">RIB:</label>
              <input type="text" class="form-control" id="rib" name="rib" readonly [(ngModel)]="rib">
            </div>

            <div class="form-group">
              <label  class="col-form-label">Montant:</label>
              <input type="text" class="form-control"  name="montant"  id="solde" ngModel>
            </div>

            <div class="form-group">
              <label >Agent</label>
              <select class="form-control" name="id_agent"  required ngModel>
                <optgroup *ngFor="let p of agent">
                  <option value="{{p.id}}">{{p.nom}}</option>
                </optgroup>
              </select>
            </div>

            <div class="form-group">
              <button type="submit" class="btn btn-default">Valider</button>
            </div>

          </form>
        </div>

        <div class="modal-footer">
        </div>
      </div>

    </div>
  </div>

</div>
